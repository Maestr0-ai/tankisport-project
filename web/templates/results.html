{% extends "base.html" %}
{% block content %}

<h1>Результаты матчей</h1>

{% for round, matches in results_by_round.items() %}
<div class="round-block">
  <button class="round-toggle" onclick="toggleRound('round{{ round }}')">
    Раунд {{ round }} ▼
  </button>

  <div id="round{{ round }}" class="round-content">
    {% if matches %}
      {% for m in matches %}
        <div class="result-card">
          <span class="team {% if m.score1 > m.score2 %}winner{% else %}loser{% endif %}">
            {{ m.team1 }}
          </span>

          <span class="score">
            {{ m.score1 }} : {{ m.score2 }}
          </span>

          <span class="team {% if m.score2 > m.score1 %}winner{% else %}loser{% endif %}">
            {{ m.team2 }}
          </span>
        </div>
      {% endfor %}
    {% else %}
      <p class="no-results">Результатов этого раунда ещё нет</p>
    {% endif %}
  </div>
</div>
{% endfor %}

<script>
function toggleRound(id) {
  const el = document.getElementById(id);
  el.style.display = el.style.display === "block" ? "none" : "block";
}
</script>

{% endblock %}
