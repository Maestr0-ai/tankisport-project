{% extends "base.html" %}

{% block content %}
<h1>Результаты матчей</h1>

{% if results %}
  {% for round_num, matches in results.items() %}
    <div class="round-block">
      <button class="round-toggle" onclick="toggleRound('round-{{ round_num }}')">
        Раунд {{ round_num }} ▼
      </button>

      <div id="round-{{ round_num }}" class="round-content">
        {% if matches %}
          {% for m in matches %}
            <div class="result-card">
              <!-- Левая команда -->
              <div class="team left {% if m.score1 > m.score2 %}winner{% else %}loser{% endif %}">
                {{ m.team1 }}
              </div>

              <!-- Счёт -->
              <div class="score">
                {{ m.score1 }} : {{ m.score2 }}
              </div>

              <!-- Правая команда -->
              <div class="team right {% if m.score2 > m.score1 %}winner{% else %}loser{% endif %}">
                {{ m.team2 }}
              </div>
            </div>
          {% endfor %}
        {% else %}
          <div class="no-results">
            Результатов этого раунда ещё нет
          </div>
        {% endif %}
      </div>
    </div>
  {% endfor %}
{% else %}
  <p>Результатов пока нет</p>
{% endif %}

<script>
function toggleRound(id) {
  const el = document.getElementById(id);
  el.classList.toggle("open");
}
</script>
{% endblock %}
