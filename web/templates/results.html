{% extends "base.html" %}
{% block content %}

<h1>Результаты матчей</h1>

<div class="results">

{% for round, matches in results_by_round.items() %}
<div class="round-block">

  <button class="round-toggle" onclick="toggleRound('{{ round }}')">
    Раунд {{ round }} ▼
  </button>

  <div class="round-content" id="round-{{ round }}">

    {% if matches %}
      {% for m in matches %}
      <div class="result-card">

        <div class="team left
          {% if m.score1 > m.score2 %}winner{% elif m.score1 < m.score2 %}loser{% endif %}">
          {{ m.team1 }}
        </div>

        <div class="score">
          {{ m.score1 }} : {{ m.score2 }}
        </div>

        <div class="team right
          {% if m.score2 > m.score1 %}winner{% elif m.score2 < m.score1 %}loser{% endif %}">
          {{ m.team2 }}
        </div>

      </div>
      {% endfor %}
    {% else %}
      <div class="no-results">
        Результатов этого раунда ещё нет
      </div>
    {% endif %}

  </div>
</div>
{% endfor %}

</div>

<script>
function toggleRound(id) {
  const el = document.getElementById("round-" + id);
  el.style.display = el.style.display === "block" ? "none" : "block";
}
</script>

{% endblock %}
